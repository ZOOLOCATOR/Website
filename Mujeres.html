<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dream Style</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="shortcut icon" href="img/android--chrome-192x192.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.css">

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D9REDB493L"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-D9REDB493L');
</script>

    <style>
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
        }
        .cart-icon {
            position: relative;
            cursor: pointer;
        }
        .cart-count {
            position: absolute;
            top: -5px;
            right: -10px;
            background: red;
            color: white;
            border-radius: 50%;
            padding: 0 5px;
            font-size: 0.75rem;
        }
    </style>
</head>
<body>
    <!-- Barra de navegaci칩n -->
    <header>
        <nav class="navbar">
            <div class="logo">Dream Style</div>
            <ul class="nav-links">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="Hombres.html">Hombres</a></li>
                <li><a href="Mujeres.html">Mujeres</a></li>
                <li><a href="Ni침os.html">Ni침os</a></li>
                <li><a href="Contacto.html">Contacto</a></li>
            </ul>
            <div class="cart-icon" onclick="openCartModal()">
                <i class="ri-shopping-cart-fill" style="font-size: 1.5rem;"></i>
                <span id="cart-count" class="cart-count">0</span>
            </div>
        </nav>
    </header>
      

    <section class="productos">
        <h2>Nuevos Productos</h2>
        <div class="product-grid">
            <div class="product-item">
                <img src="https://res.cloudinary.com/dpmocmpqh/image/upload/v1731086245/fashion-1283863_1920_nipaka.jpg" alt="Producto 1">
                <h3>TOP WOMAN游댠</h3>
                <p>$30.99</p>
                <button>Comprar ahora</button>
            </div>
            <div class="product-item">
                <img src="https://res.cloudinary.com/dpmocmpqh/image/upload/v1731086240/ai-image_owepqo.jpg" alt="Producto 2">
                <h3>TOP WOMAN 游댠</h3>
                <p>$29.99</p>
                <button>Comprar ahora</button>
            </div>
            <div class="product-item">
                <img src="https://res.cloudinary.com/dpmocmpqh/image/upload/v1731086241/istockphoto-899695730-1024x1024_aaovpu.jpg" alt="Producto 3">
                <h3>TOP WOMAN 游댠</h3>
                <p>$109.99</p>
                <button>Comprar ahora</button>
            </div>
        </div>
    </section>

<!-- Modal del carrito -->
<div class="modal fade" id="cartModal" tabindex="1" aria-labelledby="cartModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="cartModalLabel">Carrito de Compras</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ul id="cart" class="list-group mb-4"></ul>
                <div class="modal-footer">
                    <button class="btn btn-success" onclick="showCheckout()">Proceder a la compra</button>
                </div>
                <div id="checkout-container" style="display:none;">
                    <h2>Formulario de Compra</h2>
                    <form id="checkoutPurchaseForm">
                        <div class="mb-3">
                            <label for="checkoutNombre" class="form-label">Nombre Completo:</label>
                            <input type="text" class="form-control" id="checkoutNombre" required>
                        </div>
                        <div class="mb-3">
                            <label for="checkoutTelefono" class="form-label">Telefono:</label>
                            <input type="text" class="form-control" id="checkoutTelefono" required>
                        </div>
                        <div class="mb-3">
                            <label for="checkoutDireccion" class="form-label">Direcci칩n de Env칤o:</label>
                            <input type="text" class="form-control" id="checkoutDireccion" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Finalizar Compra</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Pie de p치gina -->
    <Section>
        <footer>
          <p>&copy; 2024 Dream Style. Todos los derechos reservados.</p>
          <div class="redes">
             <a href="https://www.facebook.com/" target="_blank" class="social_media-link facebook-link">
                <i class="ri-facebook-circle-fill"></i>
             </a>
             <a href="https://www.instagram.com/" target="_blank" class="social__media-link instagram-link">
                <i class="ri-instagram-fill"></i>
             </a>
             <a href="https://www.whatsapp.com/" target="_blank" class="social__media-link whatsapp-link">
                <i class="ri-whatsapp-line"></i>
             </a>
          </div>
       </footer>
       
      </Section>
     <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-analytics.js";
        import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-database.js";
    
        // Tu configuraci칩n de Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBLClY7hqBhBy-1qLTgjcnTxI3i-rvasDA",
            authDomain: "dreamstyle-56d32.firebaseapp.com",
            databaseURL: "https://dreamstyle-56d32-default-rtdb.firebaseio.com",
            projectId: "dreamstyle-56d32",
            storageBucket: "dreamstyle-56d32.firebasestorage.app",
            messagingSenderId: "188421473202",
            appId: "1:188421473202:web:424beeea5a4b6d507b5aab"
        };
    
        // Inicializar Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const database = getDatabase(app);
    
        document.addEventListener('DOMContentLoaded', () => {
            const checkoutForm = document.getElementById('checkoutPurchaseForm');
            const cart = [];
    
            checkoutForm.addEventListener('submit', function (event) {
                event.preventDefault();
                saveCheckoutData();
            });
    
            function saveCheckoutData() {
                const Nombre_Completo = document.getElementById('checkoutNombre').value;
                const Telefono = document.getElementById('checkoutTelefono').value;
                const Direcci칩n_de_Env칤o = document.getElementById('checkoutDireccion').value;
    
                // Guarda los datos en la base de datos
                const newCheckoutRef = ref(database, 'Compras/' + Date.now());
                set(newCheckoutRef, {
                    Nombre_Completo: Nombre_Completo,
                    Telefono: Telefono,
                    Direcci칩n_de_Env칤o: Direcci칩n_de_Env칤o,
                }).then(() => {
                    alert('Compra realizada con 칠xito. 춰Gracias por su compra!');
                    cart.length = 0; // Vaciar el carrito
                    updateCart();
                    checkoutForm.reset();
                    document.getElementById('checkout-container').style.display = 'none'; // Ocultar formulario
                    const cartModal = bootstrap.Modal.getInstance(document.getElementById('cartModal'));
                    cartModal.hide(); // Cerrar el modal
                }).catch((error) => {
                    console.error("Error al enviar el formulario: ", error);
                });
            }
    
            window.addToCart = function(product, price) {
                cart.push({ product, price });
                updateCart();
                alert(`${product} ha sido a침adido al carrito.`); // Mensaje de confirmaci칩n
            }
    
            function updateCart() {
                const cartList = document.getElementById('cart');
                const cartCount = document.getElementById('cart-count');
                cartList.innerHTML = '';
                cart.forEach(item => {
                    const listItem = document.createElement('li');
                    listItem.className = 'list-group-item';
                    listItem.textContent = `${item.product} - $${item.price}`;
                    cartList.appendChild(listItem);
                });
                cartCount.textContent = cart.length; // Actualiza el contador
            }
    
            window.openCartModal = function() {
                if (cart.length === 0) {
                    alert("El carrito est치 vac칤o.");
                } else {
                    const cartModal = new bootstrap.Modal(document.getElementById('cartModal'));
                    cartModal.show(); // Muestra el modal
                }
            }
    
            window.showCheckout = function() {
                document.getElementById('checkout-container').style.display = 'block'; // Mostrar formulario
            }
        });
    </script>
    </body>
    </html>

   
