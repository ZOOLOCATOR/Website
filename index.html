<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dream Style</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/owl.carousel@2.3.4/dist/assets/owl.carousel.min.css">
    <script src="https://www.paypal.com/sdk/js?client-id=ASbCrjH7ghk7md94mZ3dWfJOymGj1a1v7MKFk22QmMOcfoZJNTtI7UKKTOQWFgUHdLptHWhdOQFBDtqJ&currency=USD"></script>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">



    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D9REDB493L"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-D9REDB493L');
    </script>


<style>
    body {
        transition: background-color 0.3s, color 0.3s;
    }
    .light-mode {
        background-color: white;
        color: black;
    }
    .dark-mode {
        background-color: black;
        color: white;
    }
    .nav-links a {
        text-decoration: none;
        padding: 10px;
        transition: color 0.3s;
    }
    .light-mode .nav-links a {
        color: rgb(255, 255, 255);
    }
    .dark-mode .nav-links a {
        color: lightblue;
    }
    .toggle-button {
        margin: 20px;
        padding: 0px;
        cursor: pointer;
        background: none;
            border: none;
            cursor: pointer;
            font-size: 24px;
            
    }
</style>

</head>

<body> 
    

    <header>
        <nav class="navbar">
            <div class="container-fluid">
                <div class="d-flex align-items-center">
                    <button class="navbar-toggler" type="button" id="menu-toggle">
                        &#9776; <!-- Icono hamburguesa -->
                    </button>
                    <div class="logo ms-2">Dream Style</div>
                </div>
                <ul class="nav-links" id="nav-links">
                    <li><a href="Index.html">Inicio</a></li>
                    <li><a href="Hombres.html">Hombres</a></li>
                    <li><a href="Mujeres.html">Mujeres</a></li>
                    <li><a href="Ni√±os.html">Ni√±os</a></li>
                    <li><a href="Contacto.html">Contacto</a></li>
                </ul>
                <button class="toggle-button" id="toggleButton" title="Cambiar a Modo Oscuro">
                    üåû
                </button>
                <div class="d-flex align-items-center">
                    <div class="user-icon me-3" onclick="openUserLoginModal()">
                        <i class="ri-user-fill" style="font-size: 1.5rem; color: white; cursor: pointer;"></i>
                    </div>
                    <div class="cart-icon">
                        <a href="Carrito.html">
                            <i class="ri-shopping-cart-fill" style="font-size: 1.5rem; cursor: pointer;"></i>
                            <span class="cart-count" id="cart-count">0</span>
                        </a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <script>
        // JavaScript para abrir/cerrar el men√∫ hamburguesa
        document.getElementById("menu-toggle").onclick = function () {
            document.getElementById("nav-links").classList.toggle("open");
        };
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Secci√≥n principal con imagen de fondo -->
    <section class="header" style="background-image: url('https://res.cloudinary.com/dkqrigb7h/image/upload/v1732648937/diseno-moderno_mcfax5.jpg');">
        <h1>Bienvenido a Dream Style</h1>
    </section>

    <!-- Secci√≥n del Carrusel -->
    <div class="container">
        <div class="slider-wrapper">
            <div class="slider-description">
                <div class="slider-description-inner">
                </div>
                <div class="cd-intro">
                    <div class="cd-headline clip">
                        <span class="cd-words-wrapper">
                            <b class="is-visible">CREA TU ESTILO,</b>
                            <b>BORDA TUS IDEAS</b>
                            <b>¬°LLEVALO PUESTO!</b>
                        </span>
                    </div>
                </div>
            </div>
            <div id="slider-ef" class="slider-images-wrapper owl-carousel">
                <div class="item">
                    <img class="img-responsive" src="https://res.cloudinary.com/dkqrigb7h/image/upload/v1732648936/image_1_galzat.jpg" alt="Imagen 1" />
                </div>
                <div class="item">
                    <img class="img-responsive" src="https://res.cloudinary.com/dkqrigb7h/image/upload/v1732648937/image_2_wrfhvz.jpg" alt="Imagen 2" />
                </div>
                <div class="item">
                    <img class="img-responsive" src="https://res.cloudinary.com/dkqrigb7h/image/upload/v1732648937/image_4_pqeaku.jpg" alt="Imagen 3" />
                </div>
            </div>
        </div>
    </div>

    <div class="container margin-top">
        <div class="history-wrapper">
            <div class="col-md-6 wow fadeInUp" data-wow-duration="0.6s" data-wow-delay="0.5s">
                <div class="row">
                    <article>
                        <h2>SOBRE NOSOTROS</h2>
                        <hr />
                        <h4>
                            Realizamos bordados textiles con dise√±os √∫nicos y personalizados. <br />
                            Cu√©ntanos tu idea y la creamos para que la lleves puesta.
                        </h4>
                        <p>
                            <br />Sabemos que la ropa sufre desgaste por el uso y los lavados. Por eso decidimos
                            trabajar con productos de excelente calidad nacional e importados. En nuestra web
                            encontrar√°s toda la informaci√≥n general, <b>¬°pero queremos escuchar tu idea!</b>
                        </p>
                        <h2>MISI√ìN</h2>
                        <p>
                            <br />"Ofrecer ropa √∫nica y moderna con bordados artesanales que conecte a los j√≥venes de 18 a 25 a√±os con la
                             riqueza de nuestras tradiciones culturales. Inspiramos a esta generaci√≥n a expresar su estilo personal mientras 
                             promovemos el trabajo de los artesanos locales, combinando autenticidad, sostenibilidad y creatividad."  
                        </b>

                        <h2>VISI√ìN</h2>
                        <p>
                            <br />"Ser la marca favorita de j√≥venes de 18 a 25 a√±os que buscan moda aut√©ntica y significativa, destac√°ndonos por 
                            fusionar el dise√±o contempor√°neo con t√©cnicas artesanales. Aspiramos a liderar una comunidad consciente que valore la tradici√≥n, 
                            la innovaci√≥n y el impacto positivo en la sociedad."  

                        </b>
                        </p>


                    </article>
                </div>
            </div>
            <div class="col-md-5 col-md-offset-1 wow fadeInUp" data-wow-duration="0.8s" data-wow-delay="0.3s">
                <div class="row">
                    <div id="history-images" class="owl-carousel">
                        <div>
                            <img class="img-responsive center-block" src="https://res.cloudinary.com/dkqrigb7h/image/upload/v1732648940/playerahombre_pb4kwi.jpg" alt="About" />
                        </div>
                        <div>
                            <img class="img-responsive center-block" src="https://res.cloudinary.com/dkqrigb7h/image/upload/v1732648938/ni%C3%B1avestido_c6ph8f.jpg" alt="About" />
                        </div>
                        <div>
                            <img class="img-responsive center-block" src="https://res.cloudinary.com/dkqrigb7h/image/upload/v1732648937/mujer_sudadera_uurvt8.jpg" alt="About" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/owl.carousel@2.3.4/dist/owl.carousel.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#slider-ef').owlCarousel({
                loop: true,
                margin: 0,
                nav: false,
                items: 1,
                autoplay: true,
                autoplayTimeout: 4000,
                autoplayHoverPause: true
            });

            $('#history-images').owlCarousel({
                loop: true,
                margin: 10,
                items: 1,
                autoplay: true,
                autoplayTimeout: 3000,
                autoplayHoverPause: true
            });
        });
    </script>
  

    <div class="Contenedor">
        <section class="Mapa">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3744.2975608971037!2d-99.2253934904862!3d20.204952415487238!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85d3d66879fea89d%3A0xdd896a66614b30fb!2sITSOEH!5e0!3m2!1ses!2smx!4v1710732854523!5m2!1ses!2smx"
                width="600" height="400" style="border:0;" allowfullscreen="" loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"></iframe>
            <h3>Ub√≠canos</h3>
            <p>Dream style<br>Mixquiahuala de Ju√°rez, Hgo., M√©xico</p>
            <div class="redes">
                <a href="https://www.facebook.com/favicon.ico" target="_blank"><i
                        class="ri-facebook-circle-fill"></i></a>
                <a href="https://www.instagram.com/" target="_blank"><i class="ri-instagram-fill"></i></a>
                <a href="https://www.whatsapp.com/" target="_blank"><i class="ri-whatsapp-line"></i></a>
            </div>
        </section>
    </div>

<!-- formulario de opiniones -->
<div id="opiniones" class="container mt-5">
    <h2 class="mb-4">Deja tu opini√≥n</h2>

    <!-- Contenedor para el mensaje de √©xito o error -->
    <div id="mensaje" class="alert d-none"></div>

    <form id="opinion-form" method="POST" class="mb-4">
        <div class="mb-3">
            <label for="nombre" class="form-label">Nombre:</label>
            <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Tu nombre" required>
        </div>
        <div class="mb-3">
            <label for="opinion" class="form-label">Tu opini√≥n:</label>
            <textarea class="form-control" id="opinion" name="opinion" rows="3" placeholder="Escribe tu opini√≥n aqu√≠..." required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Enviar</button>
    </form>
</div>


    <!-- Pie de p√°gina -->
    <footer>
        <p>2024 Dream Style. Todos los derechos reservados.<a href="Terminos y condiciones.html" class="terminos-link">T√©rminos y Condiciones</a></p>
        <div class="redes">
            <a href="https://www.facebook.com/" target="_blank"><i class="ri-facebook-circle-fill"></i></a>
            <a href="https://www.instagram.com/" target="_blank"><i class="ri-instagram-fill"></i></a>
            <a href="https://www.whatsapp.com/" target="_blank"><i class="ri-whatsapp-line"></i></a>
        </div>
    </footer>
    <link rel="stylesheet" href="styles.css">

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-analytics.js";
        import { getDatabase, ref, set, get, child, push } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-database.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";
    
        const firebaseConfig = {
            apiKey: "AIzaSyBLClY7hqBhBy-1qLTgjcnTxI3i-rvasDA",
            authDomain: "dreamstyle-56d32.firebaseapp.com",
            databaseURL: "https://dreamstyle-56d32-default-rtdb.firebaseio.com",
            projectId: "dreamstyle-56d32",
            storageBucket: "dreamstyle-56d32.firebasestorage.app",
            messagingSenderId: "188421473202",
            appId: "1:188421473202:web:424beeea5a4b6d507b5aab",
            measurementId: "G-D9REDB493L"
        };
    
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const database = getDatabase(app);
        const auth = getAuth(app);
    
        // Cerrar el modal activo al abrir uno nuevo
        const activeModal = bootstrap.Modal.getInstance(document.querySelector('.modal.show'));
        if (activeModal) {
            activeModal.hide();
        }
    
        document.addEventListener('DOMContentLoaded', () => {
            const userLoginForm = document.getElementById('userLoginForm');
            const registerForm = document.getElementById('registerForm');
            let cartItems = JSON.parse(localStorage.getItem('cart')) || [];
    
            function saveRegisterData() {
                const name = document.getElementById('registerName').value;
                const email = document.getElementById('registerEmail').value;
                const password = document.getElementById('registerPassword').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
    
                if (password !== confirmPassword) {
                    alert('Las contrase√±as no coinciden.');
                    return;
                }
    
                createUserWithEmailAndPassword(auth, email, password)
                    .then(userCredential => {
                        const newUserRef = ref(database, 'Usuarios/' + Date.now());
                        set(newUserRef, { name, email })
                            .then(() => {
                                alert('Registro exitoso. ¬°Por favor inicia sesi√≥n!');
                                registerForm.reset();
                                const registerModal = bootstrap.Modal.getInstance(document.getElementById('registerModal'));
                                if (registerModal) registerModal.hide();
                                const loginModal = new bootstrap.Modal(document.getElementById('userLoginModal'));
                                loginModal.show();
                            });
                    })
                    .catch(error => {
                        console.error('Error al registrar el usuario:', error);
                        alert('Hubo un error al registrar el usuario. Intenta nuevamente.');
                    });
            }
    
            function handleLogin() {
                const email = document.getElementById('userEmail').value;
                const password = document.getElementById('userPassword').value;
    
                signInWithEmailAndPassword(auth, email, password)
                    .then(userCredential => {
                        alert(`¬°Bienvenido, ${userCredential.user.email}!`);
                        window.location.href = 'Index.html'; // Redirigir al inicio
                    })
                    .catch(error => {
                        console.error('Error al iniciar sesi√≥n:', error);
                        alert('Correo o contrase√±a incorrectos.');
                    });
            }
    
            registerForm.addEventListener('submit', (event) => {
                event.preventDefault();
                saveRegisterData();
            });
    
            userLoginForm.addEventListener('submit', (event) => {
                event.preventDefault();
                handleLogin();
            });
    
            // Verificar estado de autenticaci√≥n
            onAuthStateChanged(auth, user => {
                if (user) {
                    console.log("Usuario autenticado:", user.email);
                } else {
                    console.log("Ning√∫n usuario autenticado");
                }
            });
    
            // Formulario de opiniones
            document.getElementById('opinion-form').addEventListener('submit', function (e) {
                e.preventDefault(); // Evitar recargar la p√°gina al enviar el formulario
    
                const nombre = document.getElementById('nombre').value;
                const opinion = document.getElementById('opinion').value;
    
                // Referencia a la base de datos en Firebase (tabla "Opiniones")
                const opinionesRef = ref(database, 'Opiniones');
    
                // Guardar los datos en Firebase
                push(opinionesRef, {
                    nombre: nombre,
                    opinion: opinion,
                    fecha: new Date().toISOString() // Guardar la fecha/hora de la opini√≥n
                })
                .then(() => {
                    const mensaje = document.getElementById('mensaje');
                    mensaje.className = 'alert alert-success'; // Agregar clase de √©xito
                    mensaje.textContent = '¬°Gracias por tu opini√≥n!';
                    mensaje.classList.remove('d-none'); // Hacer visible el mensaje
                    document.getElementById('opinion-form').reset();
                })
                .catch((error) => {
                    const mensaje = document.getElementById('mensaje');
                    mensaje.className = 'alert alert-danger';
                    mensaje.textContent = 'Hubo un error al enviar tu opini√≥n. Intenta de nuevo.';
                    mensaje.classList.remove('d-none');
                    console.error('Error al guardar la opini√≥n:', error);
                });
            });
        });
    </script>
    
    <div class="modal fade" id="userLoginModal" tabindex="-1" aria-labelledby="userLoginModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="row g-0">
                    <div class="col-md-6 d-none d-md-block">
                        <div class="login-image-container">
                            <img src="https://res.cloudinary.com/dkqrigb7h/image/upload/v1732648937/camisas_bwjqh5.jpg" alt="Login" class="login-image">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="modal-body p-4 p-md-5">
                            <h2 class="text-center mb-4">¬°Bienvenido de nuevo!</h2>
                            <p class="text-secondary text-center mb-4">Introduce tu correo electr√≥nico y contrase√±a.</p>
                            <form id="userLoginForm">
                                <div class="mb-3">
                                    <label for="userEmail" class="form-label">Correo electr√≥nico:</label>
                                    <input type="email" class="form-control" id="userEmail" placeholder="Correo electr√≥nico" required>
                                </div>
                                <div class="mb-3 position-relative">
                                    <label for="userPassword" class="form-label">Contrase√±a:</label>
                                    <input type="password" class="form-control" id="userPassword" placeholder="Contrase√±a" required>
                                    <span id="togglePassword" style="cursor: pointer; position: absolute; right: 10px; top: 50px;">
                                        üëÅÔ∏è
                                    </span>
                                </div>
                                <div class="mb-3 d-flex justify-content-between align-items-center">
                                    <div class="form-check">
                                        <input type="checkbox" class="form-check-input" id="userRemember">
                                        <label class="form-check-label" for="userRemember">Recu√©rdame</label>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-success w-100 py-2 mb-3" data-bs-toggle="modal" data-bs-target="#userLoginModal">Iniciar sesi√≥n</button>
                                <button type="button" class="btn btn-success w-100 py-2 mb-3" data-bs-toggle="modal" data-bs-target="#registerModal">Registrarse</button>
                                <div class="text-center mb-3">
                                    <span class="text-secondary">o inicia sesi√≥n con</span>
                                </div>
                                <div class="d-flex justify-content-between gap-2">
                                    <button type="button" class="btn-outline-secondary w-50 d-flex align-items-center justify-content-center gap-2">
                                        <a href="https://www.google.com.mx/?hl=es" target="_blank" class="text-decoration-none">
                                            <img src="https://www.google.com/favicon.ico" alt="Google">
                                        </a>
                                    </button>
                                    <button type="button" class="btn-outline-secondary w-50 d-flex align-items-center justify-content-center gap-2">
                                        <a href="https://www.facebook.com/" target="_blank" class="text-decoration-none">
                                            <img src="https://www.facebook.com/favicon.ico" alt="Facebook">
                                        </a>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal de registro -->
    <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="registerModalLabel">Crear Cuenta</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="registerForm">
                <div class="mb-3">
                  <label for="registerName" class="form-label">Nombre Completo:</label>
                  <input type="text" class="form-control" id="registerName" required>
                </div>
                <div class="mb-3">
                  <label for="registerEmail" class="form-label">Correo Electr√≥nico:</label>
                  <input type="email" class="form-control" id="registerEmail" required>
                </div>
                <div class="mb-3 position-relative">
                  <label for="registerPassword" class="form-label">Contrase√±a:</label>
                  <input type="password" class="form-control" id="registerPassword" required>
                  <span id="toggleRegisterPassword" style="cursor: pointer; position: absolute; right: 10px; top: 50px;">
                    üëÅÔ∏è
                  </span>
                </div>
                <div class="mb-3 position-relative">
                  <label for="confirmPassword" class="form-label">Confirmar Contrase√±a:</label>
                  <input type="password" class="form-control" id="confirmPassword" required>
                  <span id="toggleConfirmPassword" style="cursor: pointer; position: absolute; right: 10px; top: 50px;">
                    üëÅÔ∏è
                  </span>
                </div>
                <button type="submit" class="btn btn-success">Registrar</button>
              </form>
            </div>
          </div>
        </div>
      </div>
      
      <script>
        document.getElementById('toggleRegisterPassword').addEventListener('click', function() {
          const passwordInput = document.getElementById('registerPassword');
          const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
          passwordInput.setAttribute('type', type);
        });
      
        document.getElementById('toggleConfirmPassword').addEventListener('click', function() {
          const confirmPasswordInput = document.getElementById('confirmPassword');
          const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
          confirmPasswordInput.setAttribute('type', type);
        });
      </script>
    
    
    <!-- Modal del carrito -->
    <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartModalLabel">Carrito de Compras</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Imagen</th>
                                <th>Nombre</th>
                                <th>Precio</th>
                                <th>Cantidad</th>
                                <th>Sub Total</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="cart-tbody"></tbody>
                    </table>
                    <div class="d-flex justify-content-between">
                        <strong>Total:</strong>
                        <span id="total-amount">$0.00</span>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-success" onclick="showCheckout()">Proceder a la compra</button>
                    </div>
                    <div id="checkout-container" style="display:none;">
                        <h2>Formulario de Compra</h2>
                        <form id="checkoutPurchaseForm">
                            <div class="mb-3">
                                <label for="checkoutNombre" class="form-label">Nombre completo:</label>
                                <input type="text" class="form-control" id="checkoutNombre" required>
                            </div>
                            <div class="mb-3">
                                <label for="checkoutEmail" class="form-label">Correo electr√≥nico:</label>
                                <input type="email" class="form-control" id="checkoutEmail" required>
                            </div>
                            <div class="mb-3">
                                <label for="checkoutDireccion" class="form-label">Direcci√≥n de env√≠o:</label>
                                <input type="text" class="form-control" id="checkoutDireccion" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Finalizar compra</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const checkoutForm = document.getElementById('checkoutPurchaseForm');
            let cartItems = JSON.parse(localStorage.getItem('cart')) || [];
    
            checkoutForm.addEventListener('submit', function (event) {
                event.preventDefault();
                saveCheckoutData();
            });
    
            function saveCheckoutData() {
                const nombreCompleto = document.getElementById('checkoutNombre').value;
                const email = document.getElementById('checkoutEmail').value;
                const direccionEnvio = document.getElementById('checkoutDireccion').value;
    
                const total = cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);
    
                alert('Compra realizada con √©xito. ¬°Gracias por su compra!');
    
                // Limpiar carrito
                cartItems = [];
                localStorage.removeItem('cart');
                renderCart();
                checkoutForm.reset();
                document.getElementById('checkout-container').style.display = 'none'; // Ocultar formulario
                const cartModal = bootstrap.Modal.getInstance(document.getElementById('cartModal'));
                cartModal.hide(); // Cerrar el modal
            }
    
            function renderCart() {
                const cartTbody = document.getElementById('cart-tbody');
                cartTbody.innerHTML = '';
                let totalAmount = 0;
                let totalCount = 0; // Contador de productos
    
                cartItems.forEach((item, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td><img src="${item.image}" alt="${item.name}" style="max-width: 50px;"></td>
                        <td>${item.name}</td>
                        <td>$${item.price.toFixed(0)}</td>
                        <td><input type="number" value="${item.quantity}" min="1" onchange="updateQuantity(${index}, this.value)"></td>
                        <td>$${(item.price * item.quantity).toFixed(0)}</td>
                        <td><button class="btn btn-danger btn-sm" onclick="removeFromCart(${index})">Eliminar</button></td>
                    `;
                    cartTbody.appendChild(row);
                    totalAmount += item.price * item.quantity;
                    totalCount += item.quantity; // Sumar cantidad al contador
                });
    
                document.getElementById('total-amount').textContent = `$${totalAmount.toFixed(0)}`;
                document.getElementById('cart-count').textContent = totalCount; // Actualizar contador de productos
            }
    
            window.updateQuantity = function (index, quantity) {
                cartItems[index].quantity = parseInt(quantity);
                localStorage.setItem('cart', JSON.stringify(cartItems));
                renderCart();
            };
    
            window.removeFromCart = function (index) {
                cartItems.splice(index, 1);
                localStorage.setItem('cart', JSON.stringify(cartItems));
                renderCart();
            };
    
            window.addToCart = function (name, price, image) {
                const item = { name, price, quantity: 1, image };
                cartItems.push(item);
                localStorage.setItem('cart', JSON.stringify(cartItems));
                renderCart();
                alert(`${name} ha sido a√±adido al carrito.`);
            };
    
            window.openCartModal = function () {
                if (cartItems.length === 0) {
                    alert("El carrito est√° vac√≠o.");
                } else {
                    renderCart();
                    const cartModal = new bootstrap.Modal(document.getElementById('cartModal'));
                    cartModal.show();
                }
            };
    
            window.showCheckout = function () {
                document.getElementById('checkout-container').style.display = 'block'; // Mostrar formulario
            };
    
            renderCart();
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>

</html>
